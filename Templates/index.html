<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    
    <!-- Favicons -->
    <link rel="apple-touch-icon" href="{{ url_for('static',filename='img/kit/free/apple-icon.png') }}">
    <link rel="icon"  href="{{ url_for('static',filename='img/kit/free/favicon.png') }}">
    <title> Xgrid - URL Shortner </title>
    
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" />
    <link rel="stylesheet" href="{{ url_for('static',filename='css/material-kit.css') }}"/>
    
    <!-- Documentation extras -->
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <!-- <link href="../assets/assets-for-demo/demo.css" rel="stylesheet" />
    iframe removal -->
</head>

<body class="landing-page ">
    <nav class="navbar     fixed  navbar-expand-lg " color-on-scroll="100" id="sectionsNav">
        <div class="container">
            <div class="navbar-translate">    
                <div ><img src="../static/logo.png" width="114" height="72" alt=""/> </div>               
                    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        <span class="navbar-toggler-icon"></span>
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ml-auto">
                    <li class="dropdown nav-item">
                        <a class="btn btn-info btn-round btn-sm btn-raised btn-lg" href="javascript:void(0)" onclick="scrollToDownload()">Login</a>
                            <div class="dropdown-menu dropdown-with-icons">
                                <a href="../index.html" class="dropdown-item">
                                    <i class="material-icons">layers</i> All Components
                                </a>
                                <a href="http://demos.creative-tim.com/material-kit/docs/2.0/getting-started/introduction.html" class="dropdown-item">
                                    <i class="material-icons">content_paste</i> Documentation
                                </a>
                            </div>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-info btn-round btn-sm btn-raised btn-lg" href="javascript:void(0)" onclick="scrollToDownload()">Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="" target="_blank" data-original-title="Follow us on Twitter">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="" target="_blank" data-original-title="Like us on Facebook">
                            <i class="fa fa-facebook-square"></i>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="" target="_blank" data-original-title="Follow us on Instagram">
                            <i class="fa fa-instagram"></i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="page-header header-filter" data-parallax="true" style=" background-image: url('../static/img/kit/profile_city.jpg'); ">
        <div class="container">
            <div class="pull-center">
                <h1 class="title text-center">Shorten your URLs below</h1>
                    <br>
                    <form class="contact-form">
                        <div class="  ml-auto mr-auto">
                            <div class="form-group">
                                <textarea id="urlTextArea" class="form-control" placeholder="Enter URL here" rows="1" style=" padding: 12px 20px; text-align: center; color: white; 
                                    font-size: 20px;"></textarea>
                                </div>
                            </div>
		
                            <div class="row">
                                <div class="col-md-6">
                                    <button class="btn btn-lg btn-primary btn-raised" type="button" style=" margin: auto; display: block; background-color: white; color: black; padding: 15px 150px; font-size:20px" onClick="getUrl()">
                                       <i class="material-icons">insert_link</i>
                                            Get Url
                                    </button>
                                </div>
                                <div class="col-md-6">
                                    <button class="btn btn-lg btn-primary btn-raised" type="button" style=" margin: auto; display: block; background-color: orange; color: black; padding: 15px 150px; font-size:20px" onClick="CopyToClipBoard()">
                                        <i class="material-icons">content_copy</i> Copy
                                    </button>
                                </div>
                            </div>
	                </form>
                    
                    <div>
                            <div class="card center">
				                <!--<a href="#" class="card-link " style="padding-top: 50px;">Card link </a>
			                    <button class="btn btn-primary btn-round" style="float: right; padding: 10px 10px;">Copy</button>-->
			                    <table id="urlTable" class="table" >
                            
                                    <tbody>
						            
                                    </tbody>						
				                </table>
			                </div>
			            
                    </div>
            </div>            
        </div>
    </div>
    <p>

    
    <div id="mydiv" class="main main-raised">
          

        <div class="container">
            <div class="section text-center">
                <div class="row">
                    <div class="col-md-8 ml-auto mr-auto">
                      <h2 class="title"><em>test.xg </em>the lightning fast URL shorter</h2>
                      <h5 class="description">This is the paragraph where you can write more details about your product. Keep you user engaged by providing meaningful information. Remember that by this time, the user is curious, otherwise he wouldn&apos;t scroll to get here. Add a button if you want the user to see more.</h5>
                  </div>
                </div>
                <div class="features">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="info">
                                <div class="icon icon-info">
                                    <i class="material-icons">flash_on</i>
                                </div>
                                <h4 class="info-title">Lightning Fast</h4>
                                <p>Generate tiny URLs at the click of a button.</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="info">
                                <div class="icon icon-success">
                                    <i class="material-icons">work</i>
                                </div>
                                <h4 class="info-title">URL Management</h4>
                                <p>Easy URL management and monitoring via a custom dashboard.</p>
                            </div>
                        </div>
                        <div class="col-md-4">
                          <div class="info">
                                <div class="icon icon-danger">
                                    <i class="material-icons">storage</i>
                                </div>
                                <h4 class="info-title">Persistant Storage</h4>
                            <p>All your custom URLs are save to a pemanent storage so you can use them whenever you like.</p>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section section-contacts">
                <div class="row">
                    <div class="col-md-8 ml-auto mr-auto">
                      <h2 class="text-center title"><em>Suggesstions</em>?</h2>
                      <h4 class="text-center description">Got any suggesstions for our product? Fill out the form below and we'll get back to you ASAP.</h4>
                        <form class="contact-form">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="bmd-label-floating">Your Name</label>
                                        <input type="email" class="form-control">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="bmd-label-floating">Your Email</label>
                                        <input type="email" class="form-control">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="exampleMessage" class="bmd-label-floating">Your Message</label>
                                <textarea type="email" class="form-control" rows="4" id="exampleMessage"></textarea>
                            </div>
                            <div class="row">
                                <div class="col-md-4 ml-auto mr-auto text-center">
                                    <button class="btn btn-primary btn-raised">
                                        Send Message
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- The footer of the page -->
    <footer class="footer ">
        <div class="container">
            <div class="copyright pull-center">
                &copy;
              <script>
                    document.write(new Date().getFullYear())
                </script>, made<i class="material-icons"></i> by
                <a href="https://www.linkedin.com/in/daanyal-malik/" target="_blank">Daanyal Nasir.</a>
            </div>
        </div>
    </footer>


    <!--   Core JS Files   -->
    <script src="../static/js/core/jquery.min.js"></script>
    <script src="../static/js/core/popper.min.js"></script>
    <script src="../static/js/bootstrap-material-design.js"></script>
    <!--  Plugin for Date Time Picker and Full Calendar Plugin  -->
    <script src="../static/js/plugins/moment.min.js"></script>
    <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
    <script src="../static/js/plugins/bootstrap-datetimepicker.min.js"></script>
    <!--	Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
    <script src="../static/js/plugins/nouislider.min.js"></script>
    <!-- Material Kit Core initialisations of plugins and Bootstrap Material Design Library -->
    <script src="../static/js/material-kit.js?v=2.0.2"></script>
    <!-- Fixed Sidebar Nav - js With initialisations For Demo Purpose, Don't Include it in your project -->
    <script src="../static/assets-for-demo/js/material-kit-demo.js"></script>

    <script type="text/javascript"> 

        $(document).ready(function()
        {    
            $("#urlTable").hide();

            
        })

        function getUrl()
        {
            var text = document.getElementById('urlTextArea').value
            var retVal=getData(text)
        }

        function CopyToClip(val,link)
        {
            $('#mydiv').css({marginTop: '+=15px'});
            document.getElementById("urlTextArea").value= val;
            var table = document.getElementById("urlTable");
            
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);     
             
            var res = link.slice(0, 4)
            if (res != "http")
            {
                link= "http://" +link
            }

            a='<td class="nr"> <a id="mytabUrl" style="font-size:23px; padding-top:10px; text-align: center;" href="' + link + '" target="_blank" class="card-link">'
            b=val+'</a> </td>'
            val=a+b
            cell1.innerHTML = val 
             
            cell5.innerHTML='<td   id="tabButton" class="td-actions right"> <button type="button"  style="float: right; vertical-align: center;" rel="tooltip" onclick="tableCopyToClipBoard()" class="btn btn-danger btn-round text-right" > <i class="material-icons">content_copy</i></button></td> ';
        
        }
        
        

        function tableCopyToClipBoard()
        {
            

            var text = document.getElementById('mytabUrl').value
           
                if (window.clipboardData && window.clipboardData.setData) {
            // IE specific code path to prevent textarea being shown while dialog is visible.
            return clipboardData.setData("Text", text); 

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
            var textarea = document.createElement("textarea");
            textarea.textContent = text;
            textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
            document.body.appendChild(textarea);
            textarea.select();
            try {
                return document.execCommand("copy");  // Security exception may be thrown by some browsers.
            } catch (ex) {
                console.warn("Copy to clipboard failed.", ex);
                return false;
            } finally {
                document.body.removeChild(textarea);
            }
            }
        }

        function CopyToClipBoard()
        {   
            alert("Copied to clipboard!")
            var text = document.getElementById('urlTextArea').value
            
                if (window.clipboardData && window.clipboardData.setData) {
            // IE specific code path to prevent textarea being shown while dialog is visible.
            return clipboardData.setData("Text", text); 

                } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
            var textarea = document.createElement("textarea");
            textarea.textContent = text;
            textarea.style.position = "fixed";  // Prevent scrolling to bottom of page in MS Edge.
            document.body.appendChild(textarea);
            textarea.select();
            try {
                return document.execCommand("copy");  // Security exception may be thrown by some browsers.
            } catch (ex) {
                console.warn("Copy to clipboard failed.", ex);
                return false;
            } finally {
                document.body.removeChild(textarea);
            }
            }
            

        }

        function getData(value)
        {			
            
            var temp = 'http://127.0.0.1:5000/getURL/'
            temp= temp+value;
            
            var data = {
            text: value};
            $.getJSON('http://127.0.0.1:5000/getURL/'+value, 
				function(data, textStatus, jqXHR) {
                    
                    if(data=="false")
                    {
                        alert("Invalid URL")
                    }
                    else
                    {
                        $("#urlTable").show(15);
                        CopyToClip(data,value)
                    }
                   
							
				}
			)
        }
    </script>
</body>
</html>
